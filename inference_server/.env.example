# Intelli-PEST Inference Server - Environment Configuration
# ==========================================================
# Copy this file to .env and configure your settings.
# NEVER commit .env file to version control!

# ===================
# Application
# ===================
APP_NAME="Intelli-PEST Inference Server"
APP_VERSION="1.0.0"
DEBUG=false
ENVIRONMENT=production  # development, staging, production

# ===================
# Server
# ===================
HOST=0.0.0.0
PORT=8000
WORKERS=4
RELOAD=false

# ===================
# Paths (optional - defaults will be used if not set)
# ===================
# MODEL_DIR=/path/to/models
# LOG_DIR=/path/to/logs
# TEMP_DIR=/path/to/temp

# ===================
# Model Settings
# ===================
DEFAULT_MODEL_FORMAT=onnx
IMAGE_SIZE=224
NUM_CLASSES=11

# ===================
# Inference
# ===================
USE_GPU=true
GPU_DEVICE_ID=0
BATCH_SIZE_LIMIT=10
INFERENCE_TIMEOUT=30
CONFIDENCE_THRESHOLD=0.5

# ===================
# Security - IMPORTANT!
# ===================
# Generate a secure API key: python -c "import secrets; print(secrets.token_urlsafe(32))"
ADMIN_API_KEY=your_secure_admin_api_key_here

# API Key settings
API_KEY_HEADER=X-API-Key
API_KEY_MIN_LENGTH=32

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60
RATE_LIMIT_BURST=20

# CORS - Restrict in production!
CORS_ENABLED=true
CORS_ORIGINS=["*"]

# ===================
# Image Validation
# ===================
MAX_FILE_SIZE=10485760
MIN_FILE_SIZE=1024
MIN_IMAGE_DIMENSION=64
MAX_IMAGE_DIMENSION=4096

# Content Filtering
CONTENT_FILTER_ENABLED=true
RELEVANCE_THRESHOLD=0.50
OOD_DETECTION_ENABLED=true
OOD_THRESHOLD=0.70

# ===================
# Logging
# ===================
LOG_LEVEL=INFO
LOG_TO_FILE=true
AUDIT_ENABLED=true

# ===================
# ngrok (for public URL)
# ===================
NGROK_ENABLED=true
# Get your auth token from: https://dashboard.ngrok.com/get-started/your-authtoken
NGROK_AUTH_TOKEN=your_ngrok_auth_token_here
NGROK_REGION=us

# ===================
# Database (optional - for API key storage)
# ===================
# DATABASE_URL=sqlite:///./api_keys.db
# REDIS_URL=redis://localhost:6379/0
